<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>计算机网络复习 | 久朝暮</title><meta name="keywords" content="UCAS课程"><meta name="author" content="久朝暮"><meta name="copyright" content="久朝暮"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="计算机网络复习"><meta name="application-name" content="计算机网络复习"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#ffffff"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络复习"><meta property="og:url" content="https://gaoyubo.cn/blogs/9a8cdc59.html"><meta property="og:site_name" content="久朝暮"><meta property="og:description" content="互联网体系结构 物理层：规定通信设备的机械的、电气的、功能的和规程的特性，用以建立、维护和拆除物理链路连接。 链路层：在两个相邻节点传输数据时，将网络层交下来的IP数据报组装成帧，在两个相邻节点之间的链路上传送帧。  PPP点对点协议 CSMA&amp;#x2F;CD协议  网络层：实现两个端系统之间的"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg"><meta property="article:author" content="久朝暮"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg"><meta name="description" content="互联网体系结构 物理层：规定通信设备的机械的、电气的、功能的和规程的特性，用以建立、维护和拆除物理链路连接。 链路层：在两个相邻节点传输数据时，将网络层交下来的IP数据报组装成帧，在两个相邻节点之间的链路上传送帧。  PPP点对点协议 CSMA&amp;#x2F;CD协议  网络层：实现两个端系统之间的"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://gaoyubo.cn/blogs/9a8cdc59"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🔨 设计开发一条龙","🏃 脚踏实地行动派","👆🏻 专注C++开发"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 久朝暮","link":"链接: ","source":"来源: 久朝暮","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '久朝暮',
  title: '计算机网络复习',
  postAI: '',
  pageFillDescription: '互联网体系结构, 交换机/路由器将待处理的数据包放到缓冲队列中缓冲队列的大小对设备的转发性能有很大的影响请简述队列过大或过小对传输流的性能影响。RED机制可以缓解队列过大带来的性能问题请简述该机制的运行过程。, TCP Incast问题, TCP Incast导致吞吐率下降, TCP Incast造成传输下降的主要原因, 增大队列解决TCP Incast问题, BufferBloat问题, BufferBloat问题原因, 解决BufferBloat问题, 距离向量方法, RIP(路由信息协议)-距离向量方法, 链路状态方法, 获得完整网络拓扑, OSPF(开放最短路径优先协议)-链路状态方法, 更大规模网络的路由, TCP连接管理, 建立连接（三次握手）, 断开连接（四次挥手）, TCP数据传输, 流控 (Flow Control), 丢包检测和重传, 快速重传, TCP拥塞控制, TCP的拥塞控制算法基础, 增减控制策略, 重新审视拥塞控制, BBR, 基本思想：估算这两个参数, 怎么测？（不可能同时测的）, BBR vs Cubic, 网络测量, 网络测量概述, 测量方式分类, 测量内容分类, 网络测量方法, 可用带宽测量, 可用带宽测量算法, 瓶颈带宽测量, 瓶颈带宽测量算法, 网络延迟, 最长前缀匹配, 数据包查找挑战, 顺序查找, 二进制Trie查找法, 性能分析, 多比特Trie, 查找性能：O(W/S), 存储复杂度为O(NW/S), IPv6路由查找, 软件定义网络（SDN）, 是什么？, 网络三个平面（planes）, 为什么？, 网络面临的挑战一：不灵活, 网络面临的挑战二：难创新、贵, 网络面临的挑战三：管理复杂, NFV, 是什么？, 为什么需要NFV, NFV带来什么, LISP（Locator/ID Separation Protocol）是如何解决这个问题的？, 与TCP/IP体系结构不同NDN是接收端驱动的即接收端发送Interest数据包发送端收到Interest数据包后才回复Data且Data沿着Interest数据包的反向路径发送给接收端。这样做的好处与劣势是什么？, 数据中心网络, 数据中心拓扑结构, Fat-Tree特性, 需要解决的问题, Fat-tree路由, Fat-Tree小结, 传输控制协议, TCP Incast, 可能的解决方案, DCTCP使用ECN, DCTCP窗口调整, DCTCP小结, 基于时延的拥塞控制：Swift, QoS（服务质量）, QoS的三种服务模型, Best-Effort service, Integrated service, Int-Serv的优缺点, Differentiated service, Diff-Serv的优缺点互联网体系结构物理层规定通信设备的机械的电气的功能的和规程的特性用以建立维护和拆除物理链路连接链路层在两个相邻节点传输数据时将网络层交下来的数据报组装成帧在两个相邻节点之间的链路上传送帧点对点协议协议网络层实现两个端系统之间的数据透明传送包括寻址和路由选择连接的建立保持和终止协议协议互联网控制消息协议协议地址解析协议传输层提供主机进程间的端到端服务提供差错控制和流量控制协议传输控制协议协议用户数据报协议应用层通过进程间的交互完成特定网络应用协议简单邮件传输协议文件传输协议优点各层之间是独立的灵活性好结构上可分割开易于实现与维护促进标准化工作缺点层次划分得过于严密以致不能越层调用下层所提供的服务降低了协议效率浪费了性能交换机路由器将待处理的数据包放到缓冲队列中缓冲队列的大小对设备的转发性能有很大的影响请简述队列过大或过小对传输流的性能影响机制可以缓解队列过大带来的性能问题请简述该机制的运行过程队列过大时当窗口大小减半时队列不能清空数据包因此数据包的延迟会增加队列过小时当窗口大小减半时发送方在等待对方的数据确认因此瓶颈链路处于空闲状态机制在队列满之前就开始主动丢包提醒发送方即将到来的拥塞概率性的丢包丢包概率与队列长度正相关问题队列相对过小造成了问题多个向一个发送导致交换机出端口队列占满该问题在数据中心中普遍存在搜索等导致吞吐率下降造成传输下降的主要原因粗粒度低效率的丢包恢复机制增大队列解决问题可以支持多更服务器数量但队列硬件价格较高问题队列过大造成了问题是指数据包在缓冲区中存留时间过长引起的延迟过大问题问题原因设备的队列设置过大很难精确计算需要多大在成本允许的前提下缓冲区越大越好吞吐率传输机制传输协议的最初设计目标改进吞吐率优化带宽占用率机制以丢包为拥塞控制信号只要没丢包就会试图增加窗口大小增加吞吐率当增大到以后窗口再增大不会增加吞吐率只会增加延迟解决问题减小队列大小减小队列大小可以降低数据包在队列中的时间但是小队列难以容忍突发流量改进传输控制策略改进队列管理策略在队列满之前就主动概率性的丢包以延迟作为队列管理的信号距离向量方法基本思想任何时刻每个节点保存到目的节点的已知最优路径的开销和对应下一跳节点如果不可达用表示初始化只有到相邻节点的开销和下一跳节点信息迭代收到相邻节点的消息后比较选择更优的开销和下一跳节点路由信息协议距离向量方法特点限制每条链路的开销都是跳数网络直径最大跳数小于路由器有不同类型的更新初始化路由器启动时向邻居节点请求它们的路由表副本周期性每秒向邻居节点发送路由表副本触发性当路由表条目发生变化时向邻居节点通告链路状态方法基本思想每个节点获得整个网络的完整拓扑各节点广播扩散其邻接关系通常使用可靠洪泛机制每个节点单独计算到其它节点的最短路径使用单源最短路径算法网络拓扑发生变化时执行上述步骤获得完整网络拓扑每个节点创建链路状态包含创建该的节点标识用于路由计算该节点的相邻节点列表和对应链路开销用于路由计算序列号生存周期用于可靠洪泛扩散链路状态节点收到来自的副本后如果之前没有保存对应的则保存如果之前有保存新副本的序列号更大则更新保存或更新后向除以外的所有节点继续扩散开放最短路径优先协议链路状态方法可靠洪泛向邻居节点发送链路状态通告周期性发送当链路发生变化时基本上已经取代收敛速度更快使用区域概念可支撑更大规模的网络路由更大规模网络的路由将网络分割成若干独立的区域区域内每个节点计算到其它所有节点的路由路径区域外节点只知道到其他区域的路由路径区域可以进一步划分成若干子区域两点之间的路由路径可能不再是最短路径连接管理建立连接三次握手双方确定建立连接用的端口号连接双方确定自己的初始序列号并通知对方双方在收到对方的初始序列号后回复确认第一个通常和第二个合在一个数据包中断开连接四次挥手连接任何一方都可以主动关闭连接发送数据包表示己方不再发送数据另一端可以继续发送数据对方仍需要对接收数据进行确认数据传输高效数据传输丢包检测和重传发送速率不能超过接收方接收能力尽可能多利用网络带宽流控为了防止快发送方给慢接收方发数据造成接收崩溃注意与后面所讲的拥塞控制的区别发送方和接收方各自维护一个窗口大小发送窗口接收窗口发送方按照发送窗口大小发送数据接收方根据接收窗口大小接收数据丢包检测和重传通过超时来判断数据包丢失超时重传定时器设置定时器至少大于一个定时器必须能够适应变化快速重传一般情况下先发送的数据包应该先到达如果后发送的数据包先被确认可推测先发送的数据包丢失如果一个数据包后面的三个数据包都被确认而该数据包还未收到确认则认定该数据包丢失并重传该数据包数据包通常都是连续发送的快速重传通常可以在个内重传数据丢包拥塞控制端到端的拥塞控制不需要网络设备的拥塞提醒端设备通过丢包延迟变化等推测网络拥塞状况优点网络中间设备设计简单缺点当拥塞推断策略较差时网络资源利用率会很低的拥塞控制算法基础网络设备的功能非常简单共享进行先进先出调度通过丢包进行拥塞反馈端设备遇到丢包时认为网络拥塞减慢发送速率但是丢包不一定是由网络拥塞引起的端设备定期通过增大发送速率来探测更多可用带宽增减控制策略最优选择和性增乘性减也就是中的拥塞控制机制的处理流程向最优分配点收敛流的拥塞窗口随时间变化的形状重新审视拥塞控制基本思想估算这两个参数怎么测不可能同时测的与虚线交汇的地方分别为和过去个的所测的带宽过去秒的最小值如果内没更新则测次个丢包几率大丢包即拥塞降低发送速率不理会丢包继续发会发生大量重传丢包几率小继续往里添加数据包尽量不填网络测量网络测量概述网络测量是按照一定的方法和技术利用软件或硬件工具来量度网络的运行状态表征网络特性的一系列活动的总和网络测量最基本的三大指标带宽时延丢包率测量方式分类主动测量指由测量用户主动发起测量将探测分组注入网络根据测量数据流的传送情况来分析网络的性能优点使用方便适合端到端的网络性能测量对于需要关心的内容只要在本地发送测试包观察网络的响应即可由于该方法不涉及用户的网络信息所以对用户而言是很安全的缺点增加了网络潜在的负载尤其是如果该测量未经仔细设计使产生的流量达不到最小可能会对网络造成较大的影响需要消耗较多的计算资源被动测量通过在网络中的链路或设备上借助包捕获数据的方式来记录网络流量分析流量获知网络的性能状况优点测量的是网络上的真正流量能够达到对观察点网络行为的详尽理解缺点被动测量方式可能要查看网络上的所有数据包容易捕获网络中的敏感信息给用户信息的保密和安全带来一定威胁只能获得网络局部数据无法了解网络整体状况测量范围受限测量内容分类网络拓扑测量了解网络拓扑结构用于资源调度和流量分配性能测量通过监测网络端到端时延抖动丢包率等特性了解网络的可达性利用率以及网络负荷等流量测量对网络数据流的特性进行监测和分析以掌握网络的流量特性如协议的使用情况应用的分布和用户的行为特征等网络测量方法链路的带宽或者容量是指该链路上数据报文的最大传输速率传输路径上带宽容量最小的链路称为该路径的瓶颈链路可用带宽测量测量端到端之间为被背景流量占用的剩余带宽可用带宽是指当应用程序和其它背景流共享网络路径时该应用程序所能得到的带宽也就是指网络在不降低其它业务流的传输速率的情况下所能提供给一个业务流的最大传输速率可用带宽测量算法探测报文间隔模型探测报文速率模型瓶颈带宽测量测量端到端之间最小的链路带宽也是端到端路径的最大传输率瓶颈带宽指的是源节点到目的节点之间处理能力最低的链路所能达到的最大的数据传输速率瓶颈带宽测量算法变长包序列模型网络延迟网络延迟传播时延发送延迟队列延迟传播时延传播距离光速传播距离通常大于地理距离发送延迟数据从端节点进入到传输介质所需要的时间发送端设备的发送延迟最多可达秒队列延迟队列长度处理速度网络中间设备为了减少丢包而增大造成了队列延迟增大该问题叫做最长前缀匹配数据包转发路由查找转发信息库存储前缀与下一跳的映射关系根据目的地址查找数据包的下一跳数据包查找挑战最长前缀可能有多个前缀能匹配找到最长前缀转发表大且不断增长查找必须很快顺序查找时间复杂度空间复杂度更新时间二进制查找法中的每个节点有两个指针指针和指针即每个节点最多有两个子节点从根节点到节点的路径上的比特串代表了所对应的前缀对于节点如果其前缀对应着前缀数据库中的某个表项则该节点称为前缀节点前缀节点包含了吓一跳信息性能分析最差情况下查找算法需要遍历的所有层次所以最差情况下需要有次存储器访问为前缀的最大长度为查找复杂度和更新复杂度为最差情况下增加一个前缀需要增加个节点存储复杂度为为转发表中的前缀数量多比特查找时同时检查多个比特称为查找步长如果前缀长度不为步长的整数倍则对其进行扩充例如步长为对于前缀可以扩充为步长为则中的每个节点的条目数量为每个条目组成下一跳信息指向下一个子节点的指针可以为空查找性能存储复杂度为路由查找地址长度为但是的前缀节点密度要远远小于有利于路径压缩而且前缀分布不均匀压缩率对于前缀的不同部分显著变化使用可变长度步长软件定义网络是什么数据面与控制面物理分离的网络由逻辑上集中的控制面控制多个转发设备网络三个平面数据面按照转发与处理规则执行数据包处理与转发的平面包括转发决策根据规则与数据包头形成转发与处理决策数据包处理过滤缓存调度控制面计算转发与处理规则转发规则计算数据包如何转发与处理实现路由流量工程失效检测恢复等管理面配置网络如通过设置路径权重影响规则的计算从而实现流量工程为什么网络面临的挑战一不灵活缺乏模块化大量任务定制化的控制机制只能间接控制缺乏统一协调的控制网络面临的挑战二难创新贵网络面临的挑战三管理复杂是什么网络功能防火墙等虚拟化一个物理实体虚拟为多个虚拟实体类似台式机上的虚拟机多个物理实体虚拟为一个虚拟实体资源整合为什么需要网络包含大量中间盒子中间盒子维护成本高易出错网络管理是割裂的虚拟化提升资源利用率带来什么减少投资成本一个硬件盒子不同功能加快产品研发软件迭代快灵活可扩展虚拟化后可以灵活迁移伸缩按需定制方便软件实现方便开发提升管理体系结构由于什么原因导致对移动性支持不好端到端连接绑定了地址移动过程切换地址连接断开应用层重新建立连接服务质量下降不改变地址无法从根本上解决问题地址的二义性既表示位置移动过程中改变又表示身份移动过程中不变是如何解决这个问题的网络拓扑中的位置比如所属的网络或者唯一标识类似身份证现在的地址二者混合在一个地址切换网络变化地址更换变化移动切换问题如果使用地址不利于路由聚合同一个会被多人使用无法溯源安全性问题未来互联网体系结构等都强调名字与地址的分离请问名字与地址分离解决什么问题地址耗尽问题内网穿透问题移动性问题可扩展地址管理问题打破传统的结构解决了网络下热门服务器负载过重的问题不存在与地址的绑定天然支持内容移动性数据和网络安全性高基于名字路由的可拓展性更优与体系结构不同是接收端驱动的即接收端发送数据包发送端收到数据包后才回复且沿着数据包的反向路径发送给接收端这样做的好处与劣势是什么优势是支持缓存原路返回的反馈式流量平衡机制流量负载均衡组网传播基于逐跳的报文包转发减少冗余传输劣势是带状态网络将使得网络设备的实现和维护复杂路由表查找也会变得复杂数据中心网络数据中心拓扑结构特性拓扑特性每一层的累计带宽相同所有交换机都一样核心也无需高速率端口的交换机能耗低端口的速率与服务器端口速率相同如果数据包是均匀的分布在可用的路径上那么所有服务器都可用以线速发送数据包扩展性高需要解决的问题如何为交换机三层服务器分配地址如何路由实现负载均衡大家不要都用一条道分开着走传统路由仅选择一条路路由两级路由第一级是前缀路由和网络一样用来向下路由到服务器第二级是后缀路由用来向核心交换机方向转发数据小结通过定制化的结构设计和网络结构比传统基于树的结构具有良好的扩展性而且无需高端交换机不足不支持服务的动态迁移定制化的路由传输控制协议交换机一般较小多个接口共享多个向一个发送导致交换机出端口队列占满可能的解决方案增大交换机的成本高长流短流混合后短流会增大减小伪重传增加更多的以太网流控队头阻塞交换机支持差异大人为增加不要同时到达尾部时延降低但整体时延增大使用显式拥塞通知指一个对网际协议和传输控制协议的扩展允许拥塞控制的端对端通知而避免丢包物理上是大但逻辑上通过来控制可用窗口调整交换机队列大于标记数据包标记由返回发送端标记为的数据包分数的运行平均值在每个中窗口减小根据拥塞程度来调整窗口反馈瞬时队列长度快速反应小结端系统交换机共同修改能够解决早期数据中心面临的传输效率问题基于时延的拥塞控制目标低且确切时延几乎不丢包高吞吐基本思路用时延作为拥塞的信号区分网络时延与端系统造成的时延数据中心长期使用服务质量并不能创造带宽但是可以有效的进行网络资源管理的三种服务模型尽力而为服务模型综合服务模型简称区分服务模型简称是一个单一的服务模型也是最简单的服务模型对服务模型网络尽最大的可能性来发送报文但对时延可靠性等性能不提供任何保证服务模型是网络的缺省服务模型通过队列来实现它适用于绝大多数网络应用如等服务模型实质上并不属于的范畴因为在转发尽力而为的通信时并没有提供任何服务或者传送保证服务模型在发送报文前需要向网络申请特定的服务这个请求是通过信令来完成的应用程序首先通知网络它自己的流量参数和需要的特定服务质量请求包括带宽时延等应用程序一般在收到网络的确认信息即网络已经为这个应用程序的报文预留了资源后发送报文资源预留协议运行在从源端到目的端的每个设备上可以监视每个流以防止其消耗资源过多这种体系能够明确区分并保证每一个业务流的服务质量为网络提供最细粒度化的服务质量区分的优缺点优点能够提供绝对有保证的缺点可扩展性是结构最致命的一个问题需要端到端信令为每一个会话预留软状态对路由器的要求较高要求路径上所有路由器必须支持不适合于短生存期的流包预留资源的开销很可能大于流中所有包的开销是一个多服务模型起源于它可以满足粗粒度的需求与不同它不需要使用即应用程序在发出报文前不需要通知网络为其预留资源对服务模型网络不需要为每个流维护状态它根据每个报文的差分服务类报文头中的差分服务标记字段来提供特定的服务的优缺点优点扩展性好简单可实现标记只是规定了有限数量的业务级别状态信息的数量正比于业务级别而不是流的数量具有层次化结构不同区域有不同的服务提供策略不影响路由仅限于队列调度与缓冲管理缺点仅实现粗略的分等级服务本质上是一种相对优先级策略不能保证端到端性能组件分散需要协同一致统一策略和管理',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-08 16:38:39',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">久朝暮</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/album/"><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/wechat.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/alipay.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C-STL/" style="font-size: 1.05rem;">C++ STL<sup>1</sup></a><a href="/tags/C-2-0/" style="font-size: 1.05rem;">C++2.0<sup>1</sup></a><a href="/tags/C-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 1.05rem;">C++内存管理<sup>1</sup></a><a href="/tags/C-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">C++设计模式<sup>1</sup></a><a href="/tags/C-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">C++面向对象高级编程<sup>1</sup></a><a href="/tags/Effective-C/" style="font-size: 1.05rem;">Effective C++<sup>1</sup></a><a href="/tags/Linux%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/" style="font-size: 1.05rem;">Linux常用函数<sup>1</sup></a><a href="/tags/Linux%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/" style="font-size: 1.05rem;">Linux系统命令<sup>1</sup></a><a href="/tags/UCAS%E8%AF%BE%E7%A8%8B/" style="font-size: 1.05rem;">UCAS课程<sup>4</sup></a><a href="/tags/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%BF%9E%E7%BD%91%E6%8A%80%E6%9C%AF/" style="font-size: 1.05rem;">移动互连网技术<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9B%BD%E7%A7%91%E5%A4%A7%E8%AF%BE%E7%A8%8B/" itemprop="url">国科大课程</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/UCAS%E8%AF%BE%E7%A8%8B/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>UCAS课程</span></a></span></div></div><h1 class="post-title" itemprop="name headline">计算机网络复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-01-05T13:36:41.000Z" title="发表于 2024-01-05 21:36:41">2024-01-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-01-08T08:38:39.883Z" title="更新于 2024-01-08 16:38:39">2024-01-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">6.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北京"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://gaoyubo.cn/blogs/9a8cdc59.html"><header><a class="post-meta-categories" href="/categories/%E5%9B%BD%E7%A7%91%E5%A4%A7%E8%AF%BE%E7%A8%8B/" itemprop="url">国科大课程</a><a href="/tags/UCAS%E8%AF%BE%E7%A8%8B/" tabindex="-1" itemprop="url">UCAS课程</a><h1 id="CrawlerTitle" itemprop="name headline">计算机网络复习</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">久朝暮</span><time itemprop="dateCreated datePublished" datetime="2024-01-05T13:36:41.000Z" title="发表于 2024-01-05 21:36:41">2024-01-05</time><time itemprop="dateCreated datePublished" datetime="2024-01-08T08:38:39.883Z" title="更新于 2024-01-08 16:38:39">2024-01-08</time></header><h1 id="互联网体系结构">互联网体系结构</h1>
<p><strong>物理层：</strong>规定通信设备的机械的、电气的、功能的和规程的特性，用以建立、维护和拆除物理链路连接。</p>
<p><strong>链路层：</strong>在两个相邻节点传输数据时，将网络层交下来的<code>IP</code>数据报组装成帧，在两个相邻节点之间的链路上传送帧。</p>
<ul>
<li><code>PPP</code>点对点协议</li>
<li><code>CSMA/CD</code>协议</li>
</ul>
<p><strong>网络层：</strong>实现两个端系统之间的数据透明传送，包括寻址和路由选择、连接的建立、保持和终止。</p>
<ul>
<li><code>IP</code>协议</li>
<li><code>ICMP</code>协议（互联网控制消息协议）</li>
<li><code>ARP</code>协议（地址解析协议）</li>
</ul>
<p><strong>传输层：</strong>提供主机进程间的端到端服务，提供差错控制和流量控制。</p>
<ul>
<li><code>TCP</code>协议（传输控制协议）</li>
<li><code>UDP</code>协议（用户数据报协议）</li>
</ul>
<p><strong>应用层：</strong>通过进程间的交互完成特定网络应用。</p>
<ul>
<li><code>HTTP/HTTPS</code>协议</li>
<li><code>SMTP</code>（简单邮件传输协议）</li>
<li><code>FTP</code>（文件传输协议）</li>
</ul>
<p><strong>优点：</strong>各层之间是独立的、灵活性好、结构上可分割开、易于实现与维护、促进标准化工作。</p>
<p><strong>缺点：</strong>层次划分得过于严密，以致不能越层调用下层所提供的服务，降低了协议效率，浪费
了性能。</p>
<h1 id="交换机路由器将待处理的数据包放到缓冲队列中缓冲队列的大小对设备的转发性能有很大的影响请简述队列过大或过小对传输流的性能影响red机制可以缓解队列过大带来的性能问题请简述该机制的运行过程">交换机/路由器将待处理的数据包放到缓冲队列中，缓冲队列的大小对设备的转发性能有很大的影响，请简述队列过大或过小对传输流的性能影响。<code>RED</code>机制可以缓解队列过大带来的性能问题，请简述该机制的运行过程。</h1>
<p><strong>队列过大时：</strong>当窗口大小减半时，队列不能清空数据包，因此数据包的延迟会增加。</p>
<p><strong>队列过小时：</strong>当窗口大小减半时，发送方在等待对方的数据确认，因此瓶颈链路处于空闲状态。</p>
<p><strong><code>RED</code>机制：</strong>在队列满之前，就开始<code>主动丢包</code>，提醒发送方即将到来的拥塞。<code>概率性的丢包</code>，丢包概率与队列长度正相关。</p>
<h1 id="tcp-incast问题"><code>TCP Incast</code>问题</h1>
<p>队列相对过小 (under-buffered)造成了TCP Incast问题。</p>
<ul>
<li>Incast：多个向一个发送，导致交换机出端口队列占满</li>
<li>该问题在数据中心中普遍存在：Web搜索、MapReduce等</li>
</ul>
<h2 id="tcp-incast导致吞吐率下降"><code>TCP Incast</code>导致吞吐率下降</h2>
<h3 id="tcp-incast造成传输下降的主要原因"><code>TCP Incast</code>造成传输下降的主要原因</h3>
<p>粗粒度、低效率的TCP丢包恢复机制。</p>
<h2 id="增大队列解决tcp-incast问题">增大队列解决<code>TCP Incast</code>问题</h2>
<p>可以支持多更Incast服务器数量，但队列硬件（SRAM）价格较高。</p>
<h1 id="bufferbloat问题"><code>BufferBloat</code>问题</h1>
<p><strong>队列过大 (over-buffered）</strong>造成了BufferBloat问题。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/image-20240106002454104.png" alt="image-20240106002454104" style="zoom:67%;"></p>
<p>BufferBloat是指数据包在缓冲区中<strong>存留时间过长</strong>引起的<strong>延迟过大问题</strong>。</p>
<h2 id="bufferbloat问题原因"><code>BufferBloat</code>问题原因</h2>
<ul>
<li>设备的队列设置过大
<ul>
<li>很难精确计算需要多大</li>
<li>在成本允许的前提下，缓冲区越大越好：QoS、TCP吞吐率</li>
</ul></li>
<li>TCP传输机制
<ul>
<li>TCP传输协议的最初设计目标：改进吞吐率、优化带宽占用率</li>
<li>机制：
<ul>
<li>以丢包为拥塞控制信号</li>
<li>只要没丢包，就会试图增加窗口大小：增加吞吐率</li>
<li>当增大到BDP以后，窗口再增大，不会增加吞吐率，只会增加延迟</li>
</ul></li>
</ul></li>
</ul>
<h2 id="解决bufferbloat问题">解决<code>BufferBloat</code>问题</h2>
<ul>
<li>减小队列大小：减小队列大小可以降低数据包在队列中的时间，但是，小队列难以容忍突发流量。</li>
<li>改进传输控制策略</li>
<li>改进队列管理策略
<ul>
<li>在队列满之前就主动（概率性的）丢包：RED (Random Early
Detection)</li>
<li>以延迟作为队列管理的信号：CoDel (Controlled Delay)</li>
</ul></li>
</ul>
<h1 id="距离向量方法">距离向量方法</h1>
<p>基本思想：</p>
<ul>
<li>任何时刻，每个节点保存到目的节点的<code>已知最优路径</code>的开销和对应下一跳节点；如果不可达，用<code>∞</code>表示。</li>
<li>初始化：只有到相邻节点的开销和下一跳节点信息。</li>
<li>迭代：收到相邻节点的消息后，比较选择更优的开销和下一跳节点。</li>
</ul>
<h1 id="rip路由信息协议-距离向量方法">RIP(路由信息协议)-距离向量方法</h1>
<ul>
<li>特点（限制）
<ul>
<li>每条链路的开销都是1 （跳数）</li>
<li>网络直径（最大跳数）小于16</li>
</ul></li>
<li>路由器有不同类型的更新
<ul>
<li>初始化：路由器启动时，向邻居节点请求它们的路由表副本</li>
<li>周期性：每30秒，向邻居节点发送路由表副本</li>
<li>触发性：当路由表条目发生变化时，向邻居节点通告</li>
</ul></li>
</ul>
<h1 id="链路状态方法">链路状态方法</h1>
<p>基本思想：</p>
<ul>
<li>每个节点获得整个网络的完整拓扑
<ul>
<li>各节点广播扩散其邻接关系：通常使用<code>可靠洪泛</code> (Reliable
Flooding) 机制。</li>
</ul></li>
<li>每个节点单独计算到其它节点的最短路径
<ul>
<li>使用单源最短路径算法 (Dijkstra)</li>
</ul></li>
<li>网络拓扑发生变化时，执行上述步骤</li>
</ul>
<h2 id="获得完整网络拓扑">获得完整网络拓扑</h2>
<ul>
<li>每个节点创建链路状态LSU (Link State Update)，包含：
<ul>
<li>创建该LSU的节点标识（用于路由计算）</li>
<li>该节点的相邻节点列表和对应链路开销（用于路由计算）</li>
<li>序列号、生存周期（用于可靠洪泛）</li>
</ul></li>
<li>扩散链路状态
<ul>
<li>节点x收到来自y的LSU副本后：
<ul>
<li>如果之前没有保存对应ID的LSU，则保存</li>
<li>如果之前有保存，新副本的序列号更大，则更新</li>
<li>保存或更新后，向除y以外的所有节点继续扩散</li>
</ul></li>
</ul></li>
</ul>
<h1 id="ospf开放最短路径优先协议-链路状态方法">OSPF(开放最短路径优先协议)-链路状态方法</h1>
<ul>
<li>可靠洪泛 (Reliable Flooding)
<ul>
<li>向邻居节点发送链路状态通告 (Link State Advertisement, LSA)
<ul>
<li>周期性发送、当链路发生变化时</li>
</ul></li>
</ul></li>
<li>基本上已经取代RIP
<ul>
<li>收敛速度更快</li>
<li>使用区域(area)概念，可支撑更大规模的网络路由</li>
</ul></li>
</ul>
<h2 id="更大规模网络的路由">更大规模网络的路由</h2>
<ul>
<li>将网络分割成若干独立的区域(areas)
<ul>
<li>区域内：每个节点计算到其它所有节点的路由路径</li>
<li>区域外：节点只知道到其他区域的路由路径</li>
</ul></li>
<li>区域可以进一步划分成若干子区域</li>
<li>两点之间的路由路径可能不再是最短路径</li>
</ul>
<h1 id="tcp连接管理">TCP连接管理</h1>
<h2 id="建立连接三次握手">建立连接（三次握手）</h2>
<ul>
<li>双方确定建立连接用的端口号(port)</li>
<li>连接双方确定自己的初始序列号并通知对方(SYN)</li>
<li>双方在收到对方的初始序列号后，回复确认(ACK)</li>
<li>第一个ACK通常和第二个SYN合在一个数据包中</li>
</ul>
<h2 id="断开连接四次挥手">断开连接（四次挥手）</h2>
<ul>
<li>连接任何一方都可以主动关闭连接：发送FIN数据包，表示己方不再发送数据。</li>
<li>另一端可以继续发送数据：对方仍需要对接收数据进行确认。</li>
</ul>
<h1 id="tcp数据传输">TCP数据传输</h1>
<p>高效数据传输：</p>
<ol type="1">
<li>丢包检测和重传</li>
<li>发送速率不能超过接收方接收能力</li>
<li>尽可能多利用网络带宽</li>
</ol>
<h2 id="流控-flow-control">流控 (Flow Control)</h2>
<ul>
<li>为了防止快发送方给慢接收方发数据造成接收崩溃：注意与后面所讲的拥塞控制的区别</li>
<li>发送方和接收方各自维护一个窗口大小：发送窗口&lt;=接收窗口</li>
<li>发送方按照发送窗口大小发送数据</li>
<li>接收方根据接收窗口大小接收数据</li>
</ul>
<h2 id="丢包检测和重传">丢包检测和重传</h2>
<p>通过超时来判断数据包丢失。</p>
<p>超时重传定时器设置：</p>
<ul>
<li>定时器至少大于一个RTT (Round Trip Time)</li>
<li>定时器必须能够适应RTT变化</li>
</ul>
<h2 id="快速重传">快速重传</h2>
<p>一般情况下，先发送的数据包应该先到达，如果后发送的数据包先被确认，可推测先发送的数据包丢失。</p>
<p>如果一个数据包后面的三个数据包都被确认，而该数据包还未收到确认，
则认定该数据包丢失，并重传该数据包。</p>
<p>数据包通常都是连续发送的：快速重传通常可以在1个RTT内重传数据丢包。</p>
<h1 id="tcp拥塞控制">TCP拥塞控制</h1>
<p><code>端到端的拥塞控制</code>：</p>
<ul>
<li>不需要网络设备的拥塞提醒：端设备通过丢包、延迟变化等推测网络拥塞状况。</li>
<li>优点：网络中间设备设计简单。</li>
<li>缺点：当拥塞推断策略较差时，网 络资源利用率会很低。</li>
</ul>
<h2 id="tcp的拥塞控制算法基础">TCP的拥塞控制算法基础</h2>
<ul>
<li>网络设备的功能非常简单
<ul>
<li>共享buffer，进行先进先出(FIFO)调度</li>
<li>通过丢包进行拥塞反馈(binary feedback)</li>
</ul></li>
</ul>
<ol type="1">
<li>TCP端设备遇到丢包时，认为网络拥塞，<code>减慢发送速率</code>：但是，丢包不一定是由网络拥塞引起的。</li>
<li>TCP端设备定期通过增大发送速率来<code>探测更多可用带宽</code>。</li>
</ol>
<h2 id="增减控制策略">增减控制策略</h2>
<p>最优选择：AIMD （和性增，乘性减）。也就是TCP中的拥塞控制。</p>
<p>AIMD 机制的处理流程：</p>
<ul>
<li>AI: W(t+1) = W(t) + 1</li>
<li>MD: W(t+1) = 1/2 * W(t)</li>
<li>向最优分配点收敛</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/image-20240106223150309.png" alt="image-20240106223150309" style="zoom:67%;"></p>
<p>TCP流的拥塞窗口随时间变化的形状：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/image-20240107002739894.png" alt="image-20240107002739894" style="zoom:50%;"></p>
<h1 id="重新审视拥塞控制">重新审视拥塞控制</h1>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/image-20240107162025277.png" alt="image-20240107162025277" style="zoom:67%;"></p>
<p><code>BDP = Bottleneck BW * RTTprop</code></p>
<h2 id="bbr">BBR</h2>
<h3 id="基本思想估算这两个参数">基本思想：估算这两个参数</h3>
<ul>
<li>Bottleneck BW</li>
<li>RTTprop</li>
</ul>
<h3 id="怎么测不可能同时测的">怎么测？（不可能同时测的）</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/image-20240107163337478.png" alt="image-20240107163337478" style="zoom: 67%;"></p>
<p>与虚线交汇的地方分别为BBR和Loss-based CC。</p>
<ul>
<li>Bottleneck BW = max {过去10个RTT的所测的带宽}</li>
<li>minRTT
<ul>
<li>min{过去10秒的最小值}</li>
<li>如果10s内没更新minRTT，则测⼀次（4个MSS）</li>
</ul></li>
</ul>
<h2 id="bbr-vs-cubic">BBR vs Cubic</h2>
<ul>
<li>Shallow buffer -&gt; 丢包几率大
<ul>
<li>Cubic：丢包即拥塞，降低发送速率</li>
<li>BBR：不理会丢包，继续发 -&gt; 会发生大量重传</li>
</ul></li>
<li>Deep buffer -&gt; 丢包几率小
<ul>
<li>Cubic：继续往buffer里添加数据包</li>
<li>BBR：尽量不填buffer</li>
</ul></li>
</ul>
<h1 id="网络测量">网络测量</h1>
<h2 id="网络测量概述">网络测量概述</h2>
<p>网络测量是按照一定的方法和技术，利用软件或硬件工具来量度网络的运行状态、表征网络特性的一系列活动的总和。</p>
<p>网络测量最基本的三大指标：</p>
<ul>
<li>带宽</li>
<li>时延</li>
<li>丢包率</li>
</ul>
<h2 id="测量方式分类">测量方式分类</h2>
<p><code>主动测量</code>：指由<strong>测量用户主动发起测量</strong>，将探测分组注入网络，根据测量数据流的传送情况来分析网络的性能。</p>
<ul>
<li>优点：
<ul>
<li><strong>使用方便，适合端到端的网络性能测量</strong>，对于需要关心的内容只要在本地发送测试包观察网络的响应即可</li>
<li>由于该方法<strong>不涉及用户的网络信息</strong>，所以对用户而言是很安全的</li>
</ul></li>
<li>缺点：
<ul>
<li><strong>增加了网络潜在的负载</strong>，尤其是如果该测量未经仔细设计，使产生的流量达不到最小，可能会对网络造成较大的影响</li>
<li>需要<strong>消耗较多的计算资源</strong></li>
</ul></li>
</ul>
<p><code>被动测量</code>：通过<strong>在网络中的链路或设备上借助包捕获数据的方式来记录网络流量</strong>，分析流量，获知网络的性能状况。</p>
<ul>
<li>优点：
<ul>
<li>测量的是<strong>网络上的真正流量</strong></li>
<li>能够达到<strong>对观察点网络行为的详尽理解</strong></li>
</ul></li>
<li>缺点：
<ul>
<li>被动测量方式可能<strong>要查看网络上的所有数据包</strong>，容易捕获网络中的敏感信息，给用户信息的保密和安全带来一定威胁</li>
<li>只能获得<strong>网络局部数据</strong>，无法了解网络整体状况</li>
<li><strong>测量范围受限</strong></li>
</ul></li>
</ul>
<h2 id="测量内容分类">测量内容分类</h2>
<ul>
<li><strong>网络拓扑测量</strong>
<ul>
<li>了解网络拓扑结构，用于资源调度和流量分配。</li>
</ul></li>
<li><strong>性能测量</strong>
<ul>
<li>通过监测网络端到端时延、抖动、丢包率等特性，了解网络的可达性、利用率以及网络负荷等。</li>
</ul></li>
<li><strong>流量测量</strong>
<ul>
<li>对网络数据流的特性进行监测和分析，以掌握网络的流量特性，如协议的使用情况、应用的分布和用户的行为特征等。</li>
</ul></li>
</ul>
<h2 id="网络测量方法">网络测量方法</h2>
<p><code>链路的带宽(Bandwidth)或者容量(Capacity)</code>是指该链路上数据报文的最大传输速率。</p>
<p>传输路径上带宽/容量最小的链路称为该路径的<code>瓶颈链路</code>（Bottleneck
Link）。</p>
<h3 id="可用带宽测量">可用带宽测量</h3>
<p>测量端到端之间为被背景流量(Backgroundtraffic)占用的剩余带宽。</p>
<p><code>可用带宽(Available Bandwidth)</code>：是指当应用程序和其它背景流(Cross
Traffic)共享网络路径时，该应用程序所能得到的带宽。也就是指网络在不降低其它业务流的传输速率的情况下，所能提供给一个业务流的最大传输速率。</p>
<h4 id="可用带宽测量算法">可用带宽测量算法</h4>
<ul>
<li>探测报文间隔模型(The Probe Gap Model, PGM)</li>
<li>探测报文速率模型(PRM)</li>
</ul>
<h3 id="瓶颈带宽测量">瓶颈带宽测量</h3>
<p>测量端到端之间最小的链路带宽，也是端到端路径的最大传输率。</p>
<p><code>瓶颈带宽(Bottleneck Bandwidth)</code>：指的是源节点到目的节点之间处理能力最低的链路所能达到的最大的数据传输速率。</p>
<h4 id="瓶颈带宽测量算法">瓶颈带宽测量算法</h4>
<ul>
<li>变长包序列模型</li>
</ul>
<h2 id="网络延迟">网络延迟</h2>
<h3 id="网络延迟-传播时延-发送延迟-队列延迟">网络延迟 = 传播时延 +
发送延迟 + 队列延迟</h3>
<p>传播时延 = 传播距离 / (0.6 x 光速)</p>
<ul>
<li>传播距离通常大于地理距离</li>
</ul>
<p>发送延迟 = 数据从端节点进入到传输介质所需要的时间</p>
<ul>
<li>发送端设备的发送延迟最多可达4秒</li>
</ul>
<p>队列延迟 = 队列长度 / 处理速度</p>
<ul>
<li>网络中间设备为了减少丢包而增大Buffer，造成了队列延迟增大，该问题叫做BufferBloat。</li>
</ul>
<h1 id="最长前缀匹配">最长前缀匹配</h1>
<p>数据包转发、路由查找。</p>
<p><code>Longest-Prefix Match Forwarding，LPM</code></p>
<ul>
<li><code>FIB（forwarding information base，转发信息库）</code>存储IP前缀与下一跳的映射关系</li>
<li>根据目的地址，查找数据包的下一跳</li>
</ul>
<h3 id="数据包查找挑战">数据包查找挑战</h3>
<ul>
<li>最长前缀：可能有多个前缀能匹配，找到最长前缀</li>
<li>转发表大且不断增长</li>
<li>查找必须很快</li>
</ul>
<h3 id="顺序查找">顺序查找</h3>
<ul>
<li>时间复杂度<code>O(n)</code></li>
<li>空间复杂度<code>O(n)</code></li>
<li>更新时间
<ul>
<li><code>Insert: O(1)</code></li>
<li><code>Delete/Update: O(n)</code></li>
</ul></li>
</ul>
<h1 id="二进制trie查找法">二进制Trie查找法</h1>
<ul>
<li>Trie中的每个节点有两个指针：0指针和1指针，即每个节点最多有两个子节点</li>
<li>从根节点到节点X的路径上的比特串代表了X所对应的<code>前缀p</code></li>
<li>对于节点X，如果其前缀对应着前缀数据库中的某个表项，则该节点称为<code>前缀节点</code>，前缀节点包含了吓一跳信息</li>
</ul>
<h2 id="性能分析">性能分析</h2>
<ul>
<li>最差情况下，查找算法需要遍历Trie的所有层次，所以最差情况下需要有W次存储器访问
<ul>
<li><code>W为前缀的最大长度，IPv4为32</code></li>
</ul></li>
<li>查找复杂度和更新复杂度为<code>O(W)</code></li>
<li>最差情况下，增加一个前缀，需要增加W个节点</li>
<li>存储复杂度为<code>O(NW)</code>
<ul>
<li>N为转发表中的前缀数量</li>
</ul></li>
</ul>
<h2 id="多比特trie">多比特Trie</h2>
<ul>
<li>查找时同时检查多个比特，称为查找步长（Stride）</li>
<li>如果前缀长度不为步长的整数倍，则对其进行扩充
<ul>
<li>例如步长为3，对于前缀1*可以扩充为100，101，110，111</li>
</ul></li>
<li>步长为K，则Trie中的每个节点的条目数量为2^K
<ul>
<li>每个条目组成：&lt;下一跳信息，指向下一个子节点的指针（可以为空）&gt;</li>
</ul></li>
</ul>
<h3 id="查找性能ows">查找性能：<code>O(W/S)</code></h3>
<h3 id="存储复杂度为onws">存储复杂度为<code>O(NW/S)</code></h3>
<h1 id="ipv6路由查找">IPv6路由查找</h1>
<ul>
<li>IPv6地址长度为128bit &gt;&gt; 32bit。</li>
<li>但是，IPv6的前缀节点密度要远远小于IPv4：<strong>有利于路径压缩</strong>。</li>
<li>而且，前缀分布不均匀，Bitmap压缩率对于前缀Trie的不同部分显著变化：<strong>使用可变长度步长</strong>。</li>
</ul>
<h1 id="软件定义网络sdn">软件定义网络（SDN）</h1>
<h2 id="是什么">是什么？</h2>
<ul>
<li><code>数据面（data plane）</code>与<code>控制面（control plane）</code>物理分离的网络。</li>
<li>由<code>（逻辑上）集中</code>的控制面控制多个转发设备</li>
</ul>
<h2 id="网络三个平面planes">网络三个平面（planes）</h2>
<ul>
<li><code>数据面（Data Plane）</code>：按照转发与处理规则，执行数据包处理与转发的平面，包括
<ul>
<li>转发决策：根据规则与数据包头，形成转发与处理决策</li>
<li>数据包处理：过滤、缓存、调度</li>
</ul></li>
<li><code>控制面（control plane）</code>：计算转发与处理规则
<ul>
<li>转发规则计算：数据包如何转发与处理</li>
<li>实现：路由、流量工程、失效检测/恢复等</li>
</ul></li>
<li><code>管理面（ Management plane）</code>：配置网络
<ul>
<li>如通过设置路径权重，影响规则的计算，从而实现流量工程</li>
</ul></li>
</ul>
<h2 id="为什么">为什么？</h2>
<h3 id="网络面临的挑战一不灵活">网络面临的挑战一：不灵活</h3>
<ul>
<li>缺乏模块化，大量任务定制化的控制机制</li>
<li>只能间接控制</li>
<li>缺乏统一协调的控制</li>
</ul>
<h3 id="网络面临的挑战二难创新贵">网络面临的挑战二：难创新、贵</h3>
<h3 id="网络面临的挑战三管理复杂">网络面临的挑战三：管理复杂</h3>
<h1 id="nfv">NFV</h1>
<h2 id="是什么-1">是什么？</h2>
<p><code>NF（Network Function）</code>：网络功能</p>
<ul>
<li>防火墙、NAT、WAF等</li>
</ul>
<p><code>V（Virtualization）</code>：虚拟化</p>
<ul>
<li>一个物理实体虚拟为多个虚拟实体（类似台式机上的虚拟机）</li>
<li>多个物理实体虚拟为一个虚拟实体（资源整合）</li>
</ul>
<h2 id="为什么需要nfv">为什么需要NFV</h2>
<ul>
<li>网络包含大量中间盒子（middlebox），中间盒子维护成本高，易出错；网络管理是割裂的。</li>
<li>虚拟化提升资源利用率。</li>
</ul>
<h2 id="nfv带来什么">NFV带来什么</h2>
<ul>
<li>减少投资成本：一个硬件盒子，不同功能</li>
<li>加快产品研发：软件迭代快</li>
<li>灵活可扩展：虚拟化后，可以灵活迁移、伸缩</li>
<li>按需定制方便：软件实现方便</li>
<li>开发</li>
<li>提升管理</li>
</ul>
<h1 id="tcpip-体系结构由于什么原因-导致对移动性支持不好">TCP/IP
体系结构由于什么原因， 导致对移动性支持不好？</h1>
<ul>
<li>端到端连接绑定了地址，移动过程切换地址
<ul>
<li>连接断开，应用层重新建立连接，服务质量下降</li>
</ul></li>
<li>不改变IP地址无法从根本上解决问题
<ul>
<li><strong>IP地址的二义性，既表示位置（移动过程中改变），又表示身份（移动过程中不变）</strong></li>
</ul></li>
</ul>
<h2 id="lisplocatorid-separation-protocol是如何解决这个问题的"><code>LISP（Locator/ID Separation Protocol）</code>是如何解决这个问题的？</h2>
<ul>
<li><code>Locator</code>：网络拓扑中的位置，比如所属的网络AS，或者BGP
prefix</li>
<li><code>ID</code>：唯一标识，类似身份证</li>
<li><strong>现在的IP地址：二者混合在一个IP地址</strong>
<ul>
<li>切换网络 -&gt; locator变化 -&gt; IP地址更换 -&gt;
ID变化：移动切换问题</li>
<li>如果使用PI（protocol independent）地址，不利于路由聚合</li>
<li>同一个IP会被多人使用 -&gt; 无法溯源 -&gt; 安全性问题</li>
</ul></li>
</ul>
<h1 id="未来互联网体系结构ndnsofiamobilityfirst等都强调名字name与地址-address的分离请问名字与地址分离解决什么问题">未来互联网体系结构<code>NDN</code>、<code>SOFIA</code>、<code>MobilityFirst</code>等都强调名字<code>（Name）</code>与地址
<code>（Address）</code>的分离，请问名字与地址分离解决什么问题？</h1>
<ul>
<li>IP地址耗尽问题</li>
<li>内网穿透问题</li>
<li>移动性问题</li>
<li>可扩展地址管理问题</li>
<li>打破传统的C/S 结构，解决了TCP/IP网络下热门服务器负载过重的问题</li>
<li>不存在与地址的绑定，天然支持内容移动性。数据和网络安全性高。基于名字路由的可拓展性更优。</li>
</ul>
<h1 id="与tcpip体系结构不同ndn是接收端驱动的即接收端发送interest数据包发送端收到interest数据包后才回复data且data沿着interest数据包的反向路径发送给接收端这样做的好处与劣势是什么">与<code>TCP/IP</code>体系结构不同，<code>NDN</code>是接收端驱动的，即接收端发送<code>Interest</code>数据包，发送端收到<code>Interest</code>数据包后才回复<code>Data</code>，且<code>Data</code>沿着<code>Interest</code>数据包的反向路径发送给接收端。这样做的好处与劣势是什么？</h1>
<p>优势是：支持缓存，原路返回的反馈式流量平衡机制——流量，负载均衡；组网传播，基于逐跳的报文包转发——减少冗余传输。</p>
<p>劣势是：带状态网络将使得网络设备的实现和维护复杂，路由表查找也会变得复杂。</p>
<h1 id="数据中心网络">数据中心网络</h1>
<h2 id="数据中心拓扑结构">数据中心拓扑结构</h2>
<h3 id="fat-tree特性">Fat-Tree特性</h3>
<ul>
<li>拓扑特性：每一层的累计带宽相同（1:1）</li>
<li>所有交换机都一样，核心也无需高速率端口的交换机：<code>能耗低</code>
<ul>
<li>端口的速率与服务器端口速率相同</li>
<li>如果数据包是均匀的分布在可用的路径上，那么所有服务器都可用以线速发送数据包</li>
</ul></li>
<li><code>扩展性高</code></li>
</ul>
<h3 id="需要解决的问题">需要解决的问题</h3>
<ul>
<li>如何为交换机（三层）、服务器分配地址？</li>
<li>如何路由？
<ul>
<li>实现负载均衡：大家不要都用一条道，分开着走</li>
<li><strong>传统IP路由仅选择一条路</strong></li>
</ul></li>
</ul>
<h3 id="fat-tree路由">Fat-tree路由</h3>
<ul>
<li>两级路由
<ul>
<li>第一级是前缀路由（和IP网络一样），用来<strong>向下路由到服务器</strong></li>
<li>第二级是后缀路由，用来向<strong>核心交换机方向</strong>转发数据</li>
</ul></li>
</ul>
<h3 id="fat-tree小结">Fat-Tree小结</h3>
<ul>
<li>通过定制化的结构设计和Clos网络结构，比传统基于树的结构具有良好的扩展性，而且无需高端交换机</li>
<li>不足：不支持服务的动态迁移、定制化的路由</li>
</ul>
<h2 id="传输控制协议">传输控制协议</h2>
<h3 id="tcp-incast">TCP Incast</h3>
<ul>
<li>交换机buffer一般较小，多个接口共享</li>
<li>Incast：多个向一个发送，导致交换机出端口队列占满</li>
</ul>
<h4 id="可能的解决方案">可能的解决方案</h4>
<ul>
<li>增大交换机的buffer
<ul>
<li>成本高</li>
<li>长流短流混合后，短流latency会增大</li>
</ul></li>
<li>减小RTO
<ul>
<li>伪重传增加</li>
<li>更多的slow start</li>
</ul></li>
<li>EFC：以太网流控
<ul>
<li>Head-of-line（队头）阻塞</li>
<li>交换机支持差异大</li>
</ul></li>
<li>人为增加delay--不要同时到达
<ul>
<li>尾部时延降低，但整体时延增大</li>
</ul></li>
</ul>
<h3 id="dctcp使用ecn">DCTCP使用ECN</h3>
<p><strong>ECN（Explicit Congestion
Notification）</strong>显式拥塞通知：指一个对网际协议和传输控制协议（TCP）的扩展，允许拥塞控制的端对端通知而避免丢包。</p>
<p>物理上是大buffer，但逻辑上通过ECN来控制可用buffer。</p>
<h4 id="dctcp窗口调整">DCTCP窗口调整</h4>
<ul>
<li>交换机：队列大于<code>k</code>，标记数据包，标记由<code>receiver</code>返回</li>
<li>发送端：标记为<code>(α)</code>的数据包分数的运行平均值
<ul>
<li><code>F = (# of marked ACKs) / (Total # of ACKs)</code></li>
<li>在每个<code>RTT</code>中：<code>α &lt;- (1 - g)α + gF</code></li>
</ul></li>
<li>窗口减小：<code>Cwnd &lt;- (1 - α/2)Cwnd</code></li>
</ul>
<ol type="1">
<li>根据拥塞程度来调整窗口</li>
<li>反馈瞬时队列长度，快速反应</li>
</ol>
<h4 id="dctcp小结">DCTCP小结</h4>
<ul>
<li>端系统 + 交换机共同修改</li>
<li>能够解决早期数据中心面临的传输效率问题</li>
</ul>
<h3 id="基于时延的拥塞控制swift">基于时延的拥塞控制：Swift</h3>
<ul>
<li><p>目标：低且确切时延、几乎不丢包、高吞吐</p></li>
<li><p>基本思路</p>
<ul>
<li><code>用时延（RTT）作为拥塞的信号</code></li>
<li><code>区分网络时延与端系统造成的时延</code></li>
</ul></li>
<li><p>Google数据中心长期使用</p></li>
</ul>
<h1 id="qos服务质量">QoS（服务质量）</h1>
<p>QOS并不能创造带宽，但是可以有效的进行网络资源管理！</p>
<h2 id="qos的三种服务模型">QoS的三种服务模型</h2>
<ul>
<li><code>Best-Effort service</code>（尽力而为服务模型）</li>
<li><code>Integrated service</code>（综合服务模型，简称<code>Int-Serv</code>）</li>
<li><code>Differentiated service</code>（区分服务模型，简称<code>Diff-Serv</code>）</li>
</ul>
<h3 id="best-effort-service">Best-Effort service</h3>
<ul>
<li><strong>Best-Efforts是一个单一的服务模型，也是最简单的服务模型。</strong>对Best-Effort服务模型，网络尽最大的可能性来发送报文。但对时延、可靠性等性能不提供任何保证。</li>
<li><strong>Best-Effort服务模型是网络的缺省服务模型，通过FIFO队列来实现。</strong>它适用于绝大多数网络应用，如FTP、E-Mail等。</li>
<li><strong>Best-Effort服务模型实质上并不属于QoS的范畴</strong>，因为在转发尽力而为的通信时，并没有提供任何服务或者传送保证。</li>
</ul>
<h3 id="integrated-service">Integrated service</h3>
<ul>
<li>Int-Serv服务模型在发送报文前，需要向网络申请特定的服务。这个请求是通过RSVP信令来完成的。应用程序首先通知网络它自己的流量参数和需要的特定服务质量请求，包括带宽、时延等，应用程序一般在收到网络的确认信息，即网络已经为这个应用程序的报文预留了资源后，发送报文。</li>
<li><code>RSVP（资源预留协议）</code>，RSVP运行在从源端到目的端的每个设备上，可以监视每个流，以防止其消耗资源过多。这种体系能够明确区分并保证每一个业务流的服务质量，为网络提供<strong>最细粒度化</strong>的服务质量区分。</li>
</ul>
<h4 id="int-serv的优缺点">Int-Serv的优缺点</h4>
<ul>
<li>优点：能够提供绝对有保证的QoS</li>
<li>缺点：
<ul>
<li>可扩展性是Int-Serv结构最致命的一个问题，需要端到端信令，为每一个会话预留软状态</li>
<li>对路由器的要求较高，要求路径上所有路由器必须支持RSVP</li>
<li>不适合于短生存期的流，包预留资源的开销很可能大于流中所有包的开销</li>
</ul></li>
</ul>
<h3 id="differentiated-service">Differentiated service</h3>
<ul>
<li>Diff-Serv是一个多服务模型，起源于IntServ，它可以<strong>满足粗粒度</strong>的QoS需求。</li>
<li>与Int-Serv不同，它<strong>不需要使用RSVP</strong>，即应用程序在发出报文前，不需要通知网络为其预留资源。</li>
<li>对DiffServ服务模型，网络<strong>不需要为每个流维护状态</strong>，它根据每个报文的差分服务类（IP报文头中的差分服务标记字段DS），来提供特定的服务。</li>
</ul>
<h4 id="diff-serv的优缺点">Diff-Serv的优缺点</h4>
<ul>
<li>优点
<ul>
<li>扩展性好，简单可实现，DS标记只是规定了有限数量的业务级别，状态信息的数量正比于业务级别，而不是流的数量</li>
<li>具有层次化结构，不同区域有不同的服务提供策略</li>
<li>不影响路由，仅限于队列调度与缓冲管理</li>
</ul></li>
<li>缺点
<ul>
<li>仅实现粗略的分等级服务</li>
<li>本质上是一种相对优先级策略，不能保证端到端QOS性能</li>
<li>组件分散，需要协同一致、统一策略和管理</li>
</ul></li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">久朝暮</div><div class="post-copyright__author_desc">紫气东来</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://gaoyubo.cn/blogs/9a8cdc59.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://gaoyubo.cn/blogs/9a8cdc59.html')">计算机网络复习</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://gaoyubo.cn/blogs/9a8cdc59.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=计算机网络复习&amp;url=https://gaoyubo.cn/blogs/9a8cdc59.html&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://gaoyubo.cn" target="_blank">久朝暮</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/UCAS%E8%AF%BE%E7%A8%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>UCAS课程<span class="tagsPageCount">4</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blogs/6fbd99c.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">操作系统高级教程思考题</div></div></a></div><div class="next-post pull-right"><a href="/blogs/b831931c.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">体系结构总结</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/blogs/5cd16023.html" title="高级AI复习"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-01-18</div><div class="title">高级AI复习</div></div></a></div><div><a href="/blogs/b831931c.html" title="体系结构总结"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-01-15</div><div class="title">体系结构总结</div></div></a></div><div><a href="/blogs/6fbd99c.html" title="操作系统高级教程思考题"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-12-14</div><div class="title">操作系统高级教程思考题</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2021/01/15/7dbc6721bad89.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">开发、算法、课程总结</b>相关的内容，还有<b style="color:#fff">个人生活</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">久朝暮</h1><div class="author-info__desc">紫气东来</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/zy-zy9" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/479202769" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%90%9C%E4%B8%80%E6%90%9C.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%90%9C%E4%B8%80%E6%90%9Cback.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">互联网体系结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B0%86%E5%BE%85%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8C%85%E6%94%BE%E5%88%B0%E7%BC%93%E5%86%B2%E9%98%9F%E5%88%97%E4%B8%AD%E7%BC%93%E5%86%B2%E9%98%9F%E5%88%97%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%AF%B9%E8%AE%BE%E5%A4%87%E7%9A%84%E8%BD%AC%E5%8F%91%E6%80%A7%E8%83%BD%E6%9C%89%E5%BE%88%E5%A4%A7%E7%9A%84%E5%BD%B1%E5%93%8D%E8%AF%B7%E7%AE%80%E8%BF%B0%E9%98%9F%E5%88%97%E8%BF%87%E5%A4%A7%E6%88%96%E8%BF%87%E5%B0%8F%E5%AF%B9%E4%BC%A0%E8%BE%93%E6%B5%81%E7%9A%84%E6%80%A7%E8%83%BD%E5%BD%B1%E5%93%8Dred%E6%9C%BA%E5%88%B6%E5%8F%AF%E4%BB%A5%E7%BC%93%E8%A7%A3%E9%98%9F%E5%88%97%E8%BF%87%E5%A4%A7%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%E8%AF%B7%E7%AE%80%E8%BF%B0%E8%AF%A5%E6%9C%BA%E5%88%B6%E7%9A%84%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">交换机&#x2F;路由器将待处理的数据包放到缓冲队列中，缓冲队列的大小对设备的转发性能有很大的影响，请简述队列过大或过小对传输流的性能影响。RED机制可以缓解队列过大带来的性能问题，请简述该机制的运行过程。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcp-incast%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">TCP Incast问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp-incast%E5%AF%BC%E8%87%B4%E5%90%9E%E5%90%90%E7%8E%87%E4%B8%8B%E9%99%8D"><span class="toc-number">3.1.</span> <span class="toc-text">TCP Incast导致吞吐率下降</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp-incast%E9%80%A0%E6%88%90%E4%BC%A0%E8%BE%93%E4%B8%8B%E9%99%8D%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8E%9F%E5%9B%A0"><span class="toc-number">3.1.1.</span> <span class="toc-text">TCP Incast造成传输下降的主要原因</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%A4%A7%E9%98%9F%E5%88%97%E8%A7%A3%E5%86%B3tcp-incast%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">增大队列解决TCP Incast问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bufferbloat%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">BufferBloat问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bufferbloat%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0"><span class="toc-number">4.1.</span> <span class="toc-text">BufferBloat问题原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3bufferbloat%E9%97%AE%E9%A2%98"><span class="toc-number">4.2.</span> <span class="toc-text">解决BufferBloat问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E6%96%B9%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">距离向量方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rip%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE-%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E6%96%B9%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">RIP(路由信息协议)-距离向量方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">链路状态方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%BE%97%E5%AE%8C%E6%95%B4%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91"><span class="toc-number">7.1.</span> <span class="toc-text">获得完整网络拓扑</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ospf%E5%BC%80%E6%94%BE%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E4%BC%98%E5%85%88%E5%8D%8F%E8%AE%AE-%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">OSPF(开放最短路径优先协议)-链路状态方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%A7%E8%A7%84%E6%A8%A1%E7%BD%91%E7%BB%9C%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="toc-number">8.1.</span> <span class="toc-text">更大规模网络的路由</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcp%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">9.</span> <span class="toc-text">TCP连接管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">9.1.</span> <span class="toc-text">建立连接（三次握手）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">9.2.</span> <span class="toc-text">断开连接（四次挥手）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcp%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-number">10.</span> <span class="toc-text">TCP数据传输</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%8E%A7-flow-control"><span class="toc-number">10.1.</span> <span class="toc-text">流控 (Flow Control)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A2%E5%8C%85%E6%A3%80%E6%B5%8B%E5%92%8C%E9%87%8D%E4%BC%A0"><span class="toc-number">10.2.</span> <span class="toc-text">丢包检测和重传</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E9%87%8D%E4%BC%A0"><span class="toc-number">10.3.</span> <span class="toc-text">快速重传</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcp%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">11.</span> <span class="toc-text">TCP拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80"><span class="toc-number">11.1.</span> <span class="toc-text">TCP的拥塞控制算法基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%87%8F%E6%8E%A7%E5%88%B6%E7%AD%96%E7%95%A5"><span class="toc-number">11.2.</span> <span class="toc-text">增减控制策略</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%AE%A1%E8%A7%86%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">12.</span> <span class="toc-text">重新审视拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bbr"><span class="toc-number">12.1.</span> <span class="toc-text">BBR</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E6%83%B3%E4%BC%B0%E7%AE%97%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">12.1.1.</span> <span class="toc-text">基本思想：估算这两个参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E6%B5%8B%E4%B8%8D%E5%8F%AF%E8%83%BD%E5%90%8C%E6%97%B6%E6%B5%8B%E7%9A%84"><span class="toc-number">12.1.2.</span> <span class="toc-text">怎么测？（不可能同时测的）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bbr-vs-cubic"><span class="toc-number">12.2.</span> <span class="toc-text">BBR vs Cubic</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%87%8F"><span class="toc-number">13.</span> <span class="toc-text">网络测量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%87%8F%E6%A6%82%E8%BF%B0"><span class="toc-number">13.1.</span> <span class="toc-text">网络测量概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E9%87%8F%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB"><span class="toc-number">13.2.</span> <span class="toc-text">测量方式分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E9%87%8F%E5%86%85%E5%AE%B9%E5%88%86%E7%B1%BB"><span class="toc-number">13.3.</span> <span class="toc-text">测量内容分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%B5%8B%E9%87%8F%E6%96%B9%E6%B3%95"><span class="toc-number">13.4.</span> <span class="toc-text">网络测量方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E7%94%A8%E5%B8%A6%E5%AE%BD%E6%B5%8B%E9%87%8F"><span class="toc-number">13.4.1.</span> <span class="toc-text">可用带宽测量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E7%94%A8%E5%B8%A6%E5%AE%BD%E6%B5%8B%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">13.4.1.1.</span> <span class="toc-text">可用带宽测量算法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%93%B6%E9%A2%88%E5%B8%A6%E5%AE%BD%E6%B5%8B%E9%87%8F"><span class="toc-number">13.4.2.</span> <span class="toc-text">瓶颈带宽测量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%93%B6%E9%A2%88%E5%B8%A6%E5%AE%BD%E6%B5%8B%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">13.4.2.1.</span> <span class="toc-text">瓶颈带宽测量算法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BB%B6%E8%BF%9F"><span class="toc-number">13.5.</span> <span class="toc-text">网络延迟</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BB%B6%E8%BF%9F-%E4%BC%A0%E6%92%AD%E6%97%B6%E5%BB%B6-%E5%8F%91%E9%80%81%E5%BB%B6%E8%BF%9F-%E9%98%9F%E5%88%97%E5%BB%B6%E8%BF%9F"><span class="toc-number">13.5.1.</span> <span class="toc-text">网络延迟 &#x3D; 传播时延 +
发送延迟 + 队列延迟</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="toc-number">14.</span> <span class="toc-text">最长前缀匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8C%85%E6%9F%A5%E6%89%BE%E6%8C%91%E6%88%98"><span class="toc-number">14.0.1.</span> <span class="toc-text">数据包查找挑战</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E6%9F%A5%E6%89%BE"><span class="toc-number">14.0.2.</span> <span class="toc-text">顺序查找</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6trie%E6%9F%A5%E6%89%BE%E6%B3%95"><span class="toc-number">15.</span> <span class="toc-text">二进制Trie查找法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">15.1.</span> <span class="toc-text">性能分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%AF%94%E7%89%B9trie"><span class="toc-number">15.2.</span> <span class="toc-text">多比特Trie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%80%A7%E8%83%BDows"><span class="toc-number">15.2.1.</span> <span class="toc-text">查找性能：O(W&#x2F;S)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BAonws"><span class="toc-number">15.2.2.</span> <span class="toc-text">存储复杂度为O(NW&#x2F;S)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ipv6%E8%B7%AF%E7%94%B1%E6%9F%A5%E6%89%BE"><span class="toc-number">16.</span> <span class="toc-text">IPv6路由查找</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9Csdn"><span class="toc-number">17.</span> <span class="toc-text">软件定义网络（SDN）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">17.1.</span> <span class="toc-text">是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%B8%89%E4%B8%AA%E5%B9%B3%E9%9D%A2planes"><span class="toc-number">17.2.</span> <span class="toc-text">网络三个平面（planes）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-number">17.3.</span> <span class="toc-text">为什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%9D%A2%E4%B8%B4%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%80%E4%B8%8D%E7%81%B5%E6%B4%BB"><span class="toc-number">17.3.1.</span> <span class="toc-text">网络面临的挑战一：不灵活</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%9D%A2%E4%B8%B4%E7%9A%84%E6%8C%91%E6%88%98%E4%BA%8C%E9%9A%BE%E5%88%9B%E6%96%B0%E8%B4%B5"><span class="toc-number">17.3.2.</span> <span class="toc-text">网络面临的挑战二：难创新、贵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%9D%A2%E4%B8%B4%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%89%E7%AE%A1%E7%90%86%E5%A4%8D%E6%9D%82"><span class="toc-number">17.3.3.</span> <span class="toc-text">网络面临的挑战三：管理复杂</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nfv"><span class="toc-number">18.</span> <span class="toc-text">NFV</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88-1"><span class="toc-number">18.1.</span> <span class="toc-text">是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81nfv"><span class="toc-number">18.2.</span> <span class="toc-text">为什么需要NFV</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nfv%E5%B8%A6%E6%9D%A5%E4%BB%80%E4%B9%88"><span class="toc-number">18.3.</span> <span class="toc-text">NFV带来什么</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcpip-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%94%B1%E4%BA%8E%E4%BB%80%E4%B9%88%E5%8E%9F%E5%9B%A0-%E5%AF%BC%E8%87%B4%E5%AF%B9%E7%A7%BB%E5%8A%A8%E6%80%A7%E6%94%AF%E6%8C%81%E4%B8%8D%E5%A5%BD"><span class="toc-number">19.</span> <span class="toc-text">TCP&#x2F;IP
体系结构由于什么原因， 导致对移动性支持不好？</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#lisplocatorid-separation-protocol%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E7%9A%84"><span class="toc-number">19.1.</span> <span class="toc-text">LISP（Locator&#x2F;ID Separation Protocol）是如何解决这个问题的？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%AA%E6%9D%A5%E4%BA%92%E8%81%94%E7%BD%91%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84ndnsofiamobilityfirst%E7%AD%89%E9%83%BD%E5%BC%BA%E8%B0%83%E5%90%8D%E5%AD%97name%E4%B8%8E%E5%9C%B0%E5%9D%80-address%E7%9A%84%E5%88%86%E7%A6%BB%E8%AF%B7%E9%97%AE%E5%90%8D%E5%AD%97%E4%B8%8E%E5%9C%B0%E5%9D%80%E5%88%86%E7%A6%BB%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98"><span class="toc-number">20.</span> <span class="toc-text">未来互联网体系结构NDN、SOFIA、MobilityFirst等都强调名字（Name）与地址
（Address）的分离，请问名字与地址分离解决什么问题？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8Etcpip%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%8D%E5%90%8Cndn%E6%98%AF%E6%8E%A5%E6%94%B6%E7%AB%AF%E9%A9%B1%E5%8A%A8%E7%9A%84%E5%8D%B3%E6%8E%A5%E6%94%B6%E7%AB%AF%E5%8F%91%E9%80%81interest%E6%95%B0%E6%8D%AE%E5%8C%85%E5%8F%91%E9%80%81%E7%AB%AF%E6%94%B6%E5%88%B0interest%E6%95%B0%E6%8D%AE%E5%8C%85%E5%90%8E%E6%89%8D%E5%9B%9E%E5%A4%8Ddata%E4%B8%94data%E6%B2%BF%E7%9D%80interest%E6%95%B0%E6%8D%AE%E5%8C%85%E7%9A%84%E5%8F%8D%E5%90%91%E8%B7%AF%E5%BE%84%E5%8F%91%E9%80%81%E7%BB%99%E6%8E%A5%E6%94%B6%E7%AB%AF%E8%BF%99%E6%A0%B7%E5%81%9A%E7%9A%84%E5%A5%BD%E5%A4%84%E4%B8%8E%E5%8A%A3%E5%8A%BF%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">21.</span> <span class="toc-text">与TCP&#x2F;IP体系结构不同，NDN是接收端驱动的，即接收端发送Interest数据包，发送端收到Interest数据包后才回复Data，且Data沿着Interest数据包的反向路径发送给接收端。这样做的好处与劣势是什么？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E7%BD%91%E7%BB%9C"><span class="toc-number">22.</span> <span class="toc-text">数据中心网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84"><span class="toc-number">22.1.</span> <span class="toc-text">数据中心拓扑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#fat-tree%E7%89%B9%E6%80%A7"><span class="toc-number">22.1.1.</span> <span class="toc-text">Fat-Tree特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">22.1.2.</span> <span class="toc-text">需要解决的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fat-tree%E8%B7%AF%E7%94%B1"><span class="toc-number">22.1.3.</span> <span class="toc-text">Fat-tree路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fat-tree%E5%B0%8F%E7%BB%93"><span class="toc-number">22.1.4.</span> <span class="toc-text">Fat-Tree小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-number">22.2.</span> <span class="toc-text">传输控制协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp-incast"><span class="toc-number">22.2.1.</span> <span class="toc-text">TCP Incast</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%83%BD%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">22.2.1.1.</span> <span class="toc-text">可能的解决方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dctcp%E4%BD%BF%E7%94%A8ecn"><span class="toc-number">22.2.2.</span> <span class="toc-text">DCTCP使用ECN</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dctcp%E7%AA%97%E5%8F%A3%E8%B0%83%E6%95%B4"><span class="toc-number">22.2.2.1.</span> <span class="toc-text">DCTCP窗口调整</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dctcp%E5%B0%8F%E7%BB%93"><span class="toc-number">22.2.2.2.</span> <span class="toc-text">DCTCP小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%97%B6%E5%BB%B6%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6swift"><span class="toc-number">22.2.3.</span> <span class="toc-text">基于时延的拥塞控制：Swift</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#qos%E6%9C%8D%E5%8A%A1%E8%B4%A8%E9%87%8F"><span class="toc-number">23.</span> <span class="toc-text">QoS（服务质量）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#qos%E7%9A%84%E4%B8%89%E7%A7%8D%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B"><span class="toc-number">23.1.</span> <span class="toc-text">QoS的三种服务模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#best-effort-service"><span class="toc-number">23.1.1.</span> <span class="toc-text">Best-Effort service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#integrated-service"><span class="toc-number">23.1.2.</span> <span class="toc-text">Integrated service</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#int-serv%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">23.1.2.1.</span> <span class="toc-text">Int-Serv的优缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#differentiated-service"><span class="toc-number">23.1.3.</span> <span class="toc-text">Differentiated service</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#diff-serv%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">23.1.3.1.</span> <span class="toc-text">Diff-Serv的优缺点</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blogs/5cd16023.html" title="高级AI复习">高级AI复习</a><time datetime="2024-01-18T05:41:14.000Z" title="发表于 2024-01-18 13:41:14">2024-01-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blogs/b831931c.html" title="体系结构总结">体系结构总结</a><time datetime="2024-01-15T06:14:11.000Z" title="发表于 2024-01-15 14:14:11">2024-01-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blogs/9a8cdc59.html" title="计算机网络复习">计算机网络复习</a><time datetime="2024-01-05T13:36:41.000Z" title="发表于 2024-01-05 21:36:41">2024-01-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blogs/6fbd99c.html" title="操作系统高级教程思考题">操作系统高级教程思考题</a><time datetime="2023-12-14T14:46:27.000Z" title="发表于 2023-12-14 22:46:27">2023-12-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blogs/2d14aaf0.html" title="Linux常用函数">Linux常用函数</a><time datetime="2023-11-30T05:58:58.000Z" title="发表于 2023-11-30 13:58:58">2023-11-30</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="/wzy2096@126.com" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/zy-zy9" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://picyuan-1321960394.cos.ap-beijing.myqcloud.com/eh.jpg" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/479202769" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.douyin.com/user/self" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div class="copyright">&copy;2020 - 2024 By 久朝暮</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">3</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/album/"><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C-STL/" style="font-size: 0.88rem;">C++ STL<sup>1</sup></a><a href="/tags/C-2-0/" style="font-size: 0.88rem;">C++2.0<sup>1</sup></a><a href="/tags/C-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">C++内存管理<sup>1</sup></a><a href="/tags/C-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">C++设计模式<sup>1</sup></a><a href="/tags/C-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">C++面向对象高级编程<sup>1</sup></a><a href="/tags/Effective-C/" style="font-size: 0.88rem;">Effective C++<sup>1</sup></a><a href="/tags/Linux%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/" style="font-size: 0.88rem;">Linux常用函数<sup>1</sup></a><a href="/tags/Linux%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/" style="font-size: 0.88rem;">Linux系统命令<sup>1</sup></a><a href="/tags/UCAS%E8%AF%BE%E7%A8%8B/" style="font-size: 0.88rem;">UCAS课程<sup>4</sup></a><a href="/tags/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%BF%9E%E7%BD%91%E6%8A%80%E6%9C%AF/" style="font-size: 0.88rem;">移动互连网技术<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.cbd.int/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'Tt2yKI8TpkxMniyxFfGh8FX6-gzGzoHsz',
      appKey: '5oQifQ5aHzJHGp2AUh22jSe3',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>